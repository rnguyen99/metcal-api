<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <appSettings>
    <add key="PYTHONPATH" value="D:\\apps\\metcal-api" />
  </appSettings>
  <system.webServer>
    <handlers>
      <!-- HttpPlatformHandler launches the ASGI server (Uvicorn) process -->
      <add name="PythonHttpPlatform" path="*" verb="*" modules="httpPlatformHandler" resourceType="Unspecified" />
    </handlers>
    <httpPlatform
      processPath="D:\\apps\\metcal-api\\.venv\\Scripts\\python.exe"
      arguments="-m uvicorn main:app --host 127.0.0.1 --port %HTTP_PLATFORM_PORT% --app-dir D:\\apps\\metcal-api"
      startupTimeLimit="120"
      shutdownTimeLimit="30"
      processesPerApplication="1"
      stdoutLogEnabled="true"
      stdoutLogFile="D:\\apps\\metcal-api\\logs\\httpplatform.log">
      <environmentVariables>
        <add name="PYTHONPATH" value="D:\\apps\\metcal-api" />
      </environmentVariables>
    </httpPlatform>
    <directoryBrowse enabled="false" />
    <security>
      <requestFiltering removeServerHeader="true" />
    </security>
  </system.webServer>
</configuration>
